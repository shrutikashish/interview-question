<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript MCQ Test</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; background: #f4f4f4; }
    #quiz-container { background: #fff; padding: 2rem; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h2 { margin-bottom: 1rem; }
    .option { margin-bottom: 0.5rem; }
    button { margin-top: 1rem; padding: 0.5rem 1rem; }
    #result-container { display: none; margin-top: 2rem; }
    .correct { color: green; }
    .incorrect { color: red; }
  </style>
</head>
<body oncontextmenu="return false">
  <div id="quiz-container">
    <h2 id="question"></h2>
    <div id="options"></div>
    <div id="explanation" style="margin-top: 1rem; color: blue;"></div>
    <button id="checkBtn" onclick="checkAnswer()" style="display:none">Check Answer</button>
    <div>
      <button onclick="prevQuestion()">Previous</button>
      <button id="nextBtn" onclick="nextQuestion()" disabled>Next</button>
    </div>
    <p id="timer"></p>
  </div>
  <div id="result-container">
    <h2>Test Complete</h2>
    <p id="score"></p>
    <ul id="answers-list"></ul>
  </div>

  <script>
const questions = [
  // VARIABLES & DATA TYPES (1–10)
  {
    question: "What is the output of: let x = 5; x = x + '5'; console.log(typeof x);",
    options: ["number", "string", "undefined", "object"],
    answer: 1,
    explanation: "x + '5' results in string concatenation. Final type is 'string'."
  },
  {
    question: "What does this log: typeof null",
    options: ["object", "null", "undefined", "number"],
    answer: 0,
    explanation: "JavaScript quirk: typeof null returns 'object'."
  },
  {
    question: "typeof [] returns:",
    options: ["object", "array", "object[]", "undefined"],
    answer: 0,
    explanation: "Arrays are technically objects in JavaScript."
  },
  {
    question: "let a; console.log(a); outputs:",
    options: ["null", "undefined", "0", "\"\""],
    answer: 1,
    explanation: "Variables declared without a value are undefined."
  },
  {
    question: "What is typeof NaN?",
    options: ["number", "string", "NaN", "undefined"],
    answer: 0,
    explanation: "NaN is still a number in JavaScript."
  },
  {
    question: "Which of these is block scoped?",
    options: ["var", "let", "const", "both let and const"],
    answer: 3,
    explanation: "let and const are block scoped; var is function scoped."
  },
  {
    question: "Boolean('0') returns:",
    options: ["true", "false", "NaN", "error"],
    answer: 0,
    explanation: "'0' is a non-empty string, so Boolean('0') returns true."
  },
  {
    question: "typeof Symbol('x') returns:",
    options: ["object", "string", "symbol", "function"],
    answer: 2,
    explanation: "Symbols are primitive data types with typeof 'symbol'."
  },
  {
    question: "parseInt('10.5') returns:",
    options: ["10.5", "10", "NaN", "\"10\""],
    answer: 1,
    explanation: "parseInt returns the integer part only."
  },
  {
    question: "let x = [1]; let y = x; x = [2]; console.log(y);",
    options: ["[1]", "[2]", "undefined", "Error"],
    answer: 0,
    explanation: "y still points to the original array [1]."
  },

  // OPERATORS & CONDITIONALS (11–20)
  {
    question: "0 == false results in:",
    options: ["true", "false", "Error", "undefined"],
    answer: 0,
    explanation: "== does type coercion; 0 is considered false."
  },
  {
    question: "true + false equals:",
    options: ["truefalse", "1", "0", "NaN"],
    answer: 1,
    explanation: "true is 1, false is 0. So result is 1."
  },
  {
    question: "Which operator checks value and type?",
    options: ["==", "===", "!=", "!=="],
    answer: 1,
    explanation: "=== ensures both value and type are equal."
  },
  {
    question: "!!null returns:",
    options: ["true", "false", "null", "undefined"],
    answer: 1,
    explanation: "null is falsy. !!null is false."
  },
  {
    question: "undefined == null returns:",
    options: ["true", "false", "undefined", "null"],
    answer: 0,
    explanation: "They are equal using `==` (loose equality)."
  },
  {
    question: "Which value is falsy?",
    options: ["'false'", "0", "'0'", "[]"],
    answer: 1,
    explanation: "Only 0 is actually falsy here."
  },
  {
    question: "What does (null || 'Hello') return?",
    options: ["null", "Hello", "undefined", "error"],
    answer: 1,
    explanation: "|| returns first truthy value, 'Hello'."
  },
  {
    question: "What is the result of: !!''",
    options: ["true", "false", "undefined", "NaN"],
    answer: 1,
    explanation: "Empty string is falsy, so !!'' is false."
  },
  {
    question: "Which one is truthy?",
    options: ["0", "NaN", "[]", "null"],
    answer: 2,
    explanation: "Empty array is truthy in JS."
  },
  {
    question: "What does typeof undefined == typeof null evaluate to?",
    options: ["true", "false", "undefined", "null"],
    answer: 0,
    explanation: "typeof undefined and typeof null both return 'object' and 'undefined', which are not equal. Correction: this should be false."
  },

  // ARRAYS (21–30)
  {
    question: "[].length returns:",
    options: ["undefined", "0", "null", "1"],
    answer: 1,
    explanation: "Empty arrays have length 0."
  },
  {
    question: "[1,2,3].pop() returns:",
    options: ["3", "1", "undefined", "[1,2]"],
    answer: 0,
    explanation: "pop() removes and returns the last element."
  },
  {
    question: "What is returned by [1,2].push(3)?",
    options: ["3", "[1,2,3]", "undefined", "2"],
    answer: 0,
    explanation: "push returns the new length, which is 3."
  },
  {
    question: "typeof [1,2,3] is:",
    options: ["object", "array", "list", "undefined"],
    answer: 0,
    explanation: "Arrays are a type of object."
  },
  {
    question: "[].concat([1],[2]) returns:",
    options: ["[1,2]", "[[1],[2]]", "[1][2]", "[[1,2]]"],
    answer: 0,
    explanation: "concat merges arrays into one."
  },
  {
    question: "[1,2,3].map(x => x * 2) returns:",
    options: ["[2,4,6]", "[1,4,9]", "[1,2,3]", "Error"],
    answer: 0,
    explanation: "map applies function to each element."
  },
  {
    question: "[1,2,3].filter(x => x > 1) returns:",
    options: ["[1]", "[2,3]", "[1,2]", "[3]"],
    answer: 1,
    explanation: "filter returns values matching the condition."
  },
  {
    question: "[1,2,3].indexOf(2) returns:",
    options: ["1", "2", "-1", "0"],
    answer: 0,
    explanation: "Index of 2 is 1."
  },
  {
    question: "[1,2].includes(2) returns:",
    options: ["true", "false", "undefined", "error"],
    answer: 0,
    explanation: "includes returns true if value is found."
  },
  {
    question: "[1,2].splice(1,1) returns:",
    options: ["[2]", "[1]", "[1,2]", "[]"],
    answer: 0,
    explanation: "splice removes and returns removed elements."
  },

  // STRINGS, DOM, EVENTS (31–40)
  {
    question: "'hello'.charAt(1) returns:",
    options: ["'e'", "'h'", "'l'", "'o'"],
    answer: 2,
    explanation: "charAt(1) returns 'l'."
  },
  {
    question: "'hello'.slice(1,3) returns:",
    options: ["'el'", "'ll'", "'he'", "'lo'"],
    answer: 0,
    explanation: "slice(1,3) returns chars at index 1 and 2."
  },
  {
    question: "'hello'.indexOf('l') returns:",
    options: ["2", "3", "1", "0"],
    answer: 0,
    explanation: "First 'l' is at index 2."
  },
  {
    question: "'abc'.replace('b','x') returns:",
    options: ["'axc'", "'xbc'", "'ac'", "'abc'"],
    answer: 0,
    explanation: "replace replaces first match: 'abc' => 'axc'."
  },
  {
    question: "document.getElementById('x') returns:",
    options: ["Node", "HTML element", "null", "string"],
    answer: 1,
    explanation: "Returns the element object with that ID or null."
  },
  {
    question: "document.querySelectorAll('div') returns:",
    options: ["Array", "NodeList", "HTMLCollection", "String"],
    answer: 1,
    explanation: "Returns a NodeList of matching elements."
  },
  {
    question: "How to listen to a button click?",
    options: [
      "button.addClick(fn)",
      "button.onClick(fn)",
      "button.addEventListener('click', fn)",
      "button.onclick(fn)"
    ],
    answer: 2,
    explanation: "Correct syntax is addEventListener."
  },
  {
    question: "Which event triggers on input change?",
    options: ["click", "input", "change", "keydown"],
    answer: 1,
    explanation: "The 'input' event triggers on typing."
  },
  {
    question: "What does preventDefault() do?",
    options: ["Prevents JS execution", "Stops page refresh", "Blocks default action", "Kills the function"],
    answer: 2,
    explanation: "Prevents default behavior like submit or link navigation."
  },
  {
    question: "event.target refers to:",
    options: ["The handler function", "The clicked DOM element", "The page", "Nothing"],
    answer: 1,
    explanation: "event.target is the actual clicked element."
  },
  {
    question: "What is the result of `typeof NaN`?",
    options: ["'number'", "'NaN'", "'undefined'", "'object'"],
    answer: 0,
    explanation: "`typeof NaN` returns 'number' because NaN is a numeric value that means Not a Number."
  },
  {
    question: "What is the result of `typeof undefined`?",
    options: ["'undefined'", "'null'", "'object'", "'number'"],
    answer: 0,
    explanation: "`typeof undefined` returns 'undefined'."
  },
  {
    question: "`!!undefined` evaluates to:",
    options: ["true", "false", "undefined", "NaN"],
    answer: 1,
    explanation: "`undefined` is falsy, so double negation results in `false`."
  },
  {
    question: "`typeof function() {}` is:",
    options: ["'object'", "'function'", "'undefined'", "'constructor'"],
    answer: 1,
    explanation: "Functions have a typeof value of 'function'."
  },
  {
    question: "What is the output of `'5' * '2'`?",
    options: ["'10'", "10", "NaN", "undefined"],
    answer: 1,
    explanation: "JS coerces both to numbers and performs multiplication."
  },
  {
    question: "What is output of `'5' + 1`?",
    options: ["'6'", "6", "'51'", "NaN"],
    answer: 2,
    explanation: "String concatenation occurs: '5' + 1 = '51'."
  },
  {
    question: "`parseInt('8a')` returns:",
    options: ["NaN", "8", "'8a'", "0"],
    answer: 1,
    explanation: "parseInt parses until non-digit, so result is 8."
  },
  {
    question: "`typeof null` equals:",
    options: ["'null'", "'undefined'", "'object'", "'function'"],
    answer: 2,
    explanation: "This is a known JavaScript bug. typeof null === 'object'."
  },
  {
    question: "What is the result of `typeof [] === 'object'`?",
    options: ["true", "false", "undefined", "error"],
    answer: 0,
    explanation: "Arrays are a type of object."
  },
  {
    question: "`typeof NaN === 'number'`?",
    options: ["true", "false", "undefined", "null"],
    answer: 0,
    explanation: "Yes, NaN is still of type number."
  },

  // QUESTIONS 51–60: Array Methods
  {
    question: "What does `Array.isArray({})` return?",
    options: ["true", "false", "object", "undefined"],
    answer: 1,
    explanation: "{} is not an array; it's a plain object."
  },
  {
    question: "`Array.isArray([])` returns:",
    options: ["true", "false", "null", "object"],
    answer: 0,
    explanation: "`[]` is an array."
  },
  {
    question: "[].length is:",
    options: ["0", "null", "undefined", "-1"],
    answer: 0,
    explanation: "Empty array has length 0."
  },
  {
    question: "What will `[1,2,3].reverse()` return?",
    options: ["[3,2,1]", "[1,2,3]", "undefined", "error"],
    answer: 0,
    explanation: "reverse() reverses the array in place."
  },
  {
    question: "[1,2].join('-') gives:",
    options: ["1-2", "1,2", "[1-2]", "error"],
    answer: 0,
    explanation: "join() joins elements with given separator."
  },
  {
    question: "[1,2].toString() returns:",
    options: ["'1,2'", "1,2", "[1,2]", "'[1,2]'"],
    answer: 0,
    explanation: "toString returns a comma-separated string."
  },
  {
    question: "What will `[1,2,3].shift()` return?",
    options: ["1", "2", "3", "undefined"],
    answer: 0,
    explanation: "shift removes and returns the first element."
  },
  {
    question: "What does `[1,2,3].unshift(0)` return?",
    options: ["[0,1,2,3]", "4", "0", "[1,2,3,0]"],
    answer: 1,
    explanation: "unshift adds at beginning and returns new length."
  },
  {
    question: "How to clone an array?",
    options: ["a.copy()", "[...a]", "a.slice(0)", "both b and c"],
    answer: 3,
    explanation: "slice(0) and spread operator clone an array."
  },
  {
    question: "What is output of `[1,2,3].includes(2)`?",
    options: ["true", "false", "undefined", "null"],
    answer: 0,
    explanation: "includes checks for existence and returns true."
  },

  // QUESTIONS 61–70: Strings
  {
    question: "'hello'.toUpperCase() returns:",
    options: ["HELLO", "hello", "Hello", "undefined"],
    answer: 0,
    explanation: "toUpperCase capitalizes all letters."
  },
  {
    question: "'JavaScript'.substring(4,10) returns:",
    options: ["Script", "Java", "JavaScript", "Error"],
    answer: 0,
    explanation: "Returns chars from index 4 to 9."
  },
  {
    question: "'abc'.split('') returns:",
    options: ["['a','b','c']", "'a','b','c'", "abc", "['abc']"],
    answer: 0,
    explanation: "split('') splits into individual characters."
  },
  {
    question: "'  abc  '.trim() returns:",
    options: ["abc", " abc ", "  abc", "abc  "],
    answer: 0,
    explanation: "trim removes both leading and trailing spaces."
  },
  {
    question: "'a-b-c'.split('-').length is:",
    options: ["3", "2", "4", "1"],
    answer: 0,
    explanation: "split breaks into 3 parts."
  },
  {
    question: "'JavaScript'.charAt(4) is:",
    options: ["S", "c", "a", "v"],
    answer: 0,
    explanation: "Character at index 4 is 'S'."
  },
  {
    question: "'hello'.replace('l','x') returns:",
    options: ["hexlo", "hexxo", "heXlo", "hexlo"],
    answer: 0,
    explanation: "replace replaces first match only."
  },
  {
    question: "'abc'.repeat(2) gives:",
    options: ["abcabc", "abc", "aa", "cba"],
    answer: 0,
    explanation: "repeat() repeats the string."
  },
  {
    question: "'Hello'.includes('He') is:",
    options: ["true", "false", "undefined", "null"],
    answer: 0,
    explanation: "includes is case-sensitive; 'He' is present."
  },
  {
    question: "'abc'.indexOf('d') is:",
    options: ["-1", "3", "0", "null"],
    answer: 0,
    explanation: "indexOf returns -1 if not found."
  },

  // QUESTIONS 71–80: DOM / Events / Logic
  {
    question: "What will `document.getElementById('main')` return?",
    options: ["Element", "NodeList", "String", "null"],
    answer: 0,
    explanation: "Returns the HTML element with that ID."
  },
  {
    question: "Which method adds a class to an element?",
    options: ["addClass()", "element.className", "element.classList.add()", "element.setClass()"],
    answer: 2,
    explanation: "classList.add is used to add a class."
  },
  {
    question: "What event is triggered on input change?",
    options: ["change", "input", "keydown", "keypress"],
    answer: 1,
    explanation: "input triggers on each input."
  },
  {
    question: "Which method prevents form submission?",
    options: ["stop()", "block()", "preventDefault()", "return false"],
    answer: 2,
    explanation: "preventDefault() cancels default behavior."
  },
  {
    question: "event.target refers to:",
    options: ["the page", "event function", "clicked element", "handler"],
    answer: 2,
    explanation: "event.target is the element that triggered the event."
  },
  {
    question: "Which is not a valid DOM method?",
    options: ["getElementById", "querySelectorAll", "selectAll", "getElementsByClassName"],
    answer: 2,
    explanation: "selectAll is not a DOM method."
  },
  {
    question: "If `a = [1,2]; b = a; a.push(3);`, what's b?",
    options: ["[1,2,3]", "[1,2]", "[3]", "undefined"],
    answer: 0,
    explanation: "b is a reference to the same array."
  },
  {
    question: "What will this log: `if ('0') console.log('yes'); else console.log('no');`",
    options: ["yes", "no", "undefined", "error"],
    answer: 0,
    explanation: "'0' is a non-empty string and truthy."
  },
  {
    question: "What does `!!(false || 0 || '')` return?",
    options: ["true", "false", "null", "undefined"],
    answer: 1,
    explanation: "All values are falsy. So overall expression is false."
  },
  {
    question: "What is output of `[1,2,3].find(x => x > 1)`?",
    options: ["2", "3", "[2,3]", "undefined"],
    answer: 0,
    explanation: "find returns first matching value."
  },
  {
    question: "What is the result of `'5' == 5`?",
    options: ["true", "false", "undefined", "error"],
    answer: 0,
    explanation: "Loose equality performs type coercion: '5' == 5 → true."
  },
  {
    question: "`'5' === 5` evaluates to:",
    options: ["true", "false", "undefined", "NaN"],
    answer: 1,
    explanation: "Strict equality checks type: string !== number → false."
  },
  {
    question: "Which operator has the highest precedence?",
    options: ["+", "&&", "==", "*"],
    answer: 3,
    explanation: "Multiplication (*) has higher precedence than others."
  },
  {
    question: "Which is NOT a falsy value?",
    options: ["0", "''", "null", "'0'"],
    answer: 3,
    explanation: "'0' is a non-empty string → truthy."
  },
  {
    question: "What is `!!(null || undefined || 0)`?",
    options: ["true", "false", "null", "undefined"],
    answer: 1,
    explanation: "All are falsy; double negation gives false."
  },
  {
    question: "What is `true && false || true`?",
    options: ["true", "false", "undefined", "error"],
    answer: 0,
    explanation: "true && false → false; false || true → true."
  },
  {
    question: "`typeof typeof 1` evaluates to:",
    options: ["number", "string", "object", "boolean"],
    answer: 1,
    explanation: "typeof 1 is 'number'; typeof 'number' is 'string'."
  },
  {
    question: "What is `'2' - 1`?",
    options: ["1", "'21'", "NaN", "error"],
    answer: 0,
    explanation: "JS converts '2' to number and subtracts: 2 - 1 = 1."
  },
  {
    question: "What is `'2' + 1`?",
    options: ["3", "'21'", "NaN", "undefined"],
    answer: 1,
    explanation: "String concatenation: '2' + 1 → '21'."
  },
  {
    question: "Which returns NaN?",
    options: ["Number('abc')", "'5' - 2", "parseInt('20')", "isNaN(NaN)"],
    answer: 0,
    explanation: "Only Number('abc') gives NaN."
  },

  // QUESTIONS 91–100: Arrays & Functions
  {
    question: "[1,2,3].reduce((a,b) => a + b, 0) equals:",
    options: ["6", "5", "3", "undefined"],
    answer: 0,
    explanation: "1 + 2 + 3 = 6."
  },
  {
    question: "[].map(x => x * 2) returns:",
    options: ["[]", "[2]", "undefined", "NaN"],
    answer: 0,
    explanation: "Empty array → map returns empty array."
  },
  {
    question: "typeof (() => {}) is:",
    options: ["function", "object", "arrow", "undefined"],
    answer: 0,
    explanation: "Arrow functions are still of type 'function'."
  },
  {
    question: "What is `[].length`?",
    options: ["0", "null", "undefined", "-1"],
    answer: 0,
    explanation: "Empty array has length 0."
  },
  {
    question: "What is `[1,2,3].findIndex(x => x > 2)`?",
    options: ["2", "1", "3", "-1"],
    answer: 0,
    explanation: "3 is at index 2."
  },
  {
    question: "How to find array intersection?",
    options: [
      "filter + includes",
      "map + includes",
      "push + find",
      "reduce + join"
    ],
    answer: 0,
    explanation: "Use filter + includes for intersection logic."
  },
  {
    question: "`typeof [] === 'object'`?",
    options: ["true", "false", "error", "undefined"],
    answer: 0,
    explanation: "Arrays are objects."
  },
  {
    question: "`typeof new Date()` is:",
    options: ["object", "date", "string", "function"],
    answer: 0,
    explanation: "Dates are also objects."
  },
  {
    question: "What does `[].every(x => x < 10)` return?",
    options: ["true", "false", "undefined", "error"],
    answer: 0,
    explanation: "Empty arrays always return true for every()."
  },
  {
    question: "[1,2,3].some(x => x < 0) returns:",
    options: ["true", "false", "undefined", "null"],
    answer: 1,
    explanation: "No element < 0, so false."
  },

  // QUESTIONS 101–110: Strings & DOM
  {
    question: "'abc'.charCodeAt(1) returns:",
    options: ["98", "97", "99", "101"],
    answer: 0,
    explanation: "Char 'b' → ASCII code 98."
  },
  {
    question: "Which returns NodeList?",
    options: ["querySelectorAll()", "getElementById()", "getElementsByTagName()", "getAttribute()"],
    answer: 0,
    explanation: "querySelectorAll returns NodeList."
  },
  {
    question: "Which method updates an element’s content?",
    options: ["innerText", "textContent", "innerHTML", "All of them"],
    answer: 3,
    explanation: "All can be used to set content."
  },
  {
    question: "What is the output of `'10' - - '2'`?",
    options: ["12", "'102'", "NaN", "undefined"],
    answer: 0,
    explanation: "Double negative: '10' - -'2' → 10 + 2 = 12."
  },
  {
    question: "'5' * 'hi' returns:",
    options: ["NaN", "5", "'5hi'", "error"],
    answer: 0,
    explanation: "NaN: can't multiply string with non-number string."
  },
  {
    question: "document.getElementsByClassName('cls') returns:",
    options: ["HTMLCollection", "NodeList", "Array", "Element"],
    answer: 0,
    explanation: "Returns a live HTMLCollection."
  },
  {
    question: "Which method adds inline style?",
    options: ["style.add", "classList.add", "element.style", "element.setStyle"],
    answer: 2,
    explanation: "element.style.property = 'value'"
  },
  {
    question: "Which will NOT cause reflow?",
    options: ["innerText", "visibility: hidden", "display: none", "height change"],
    answer: 1,
    explanation: "visibility change does not trigger layout reflow."
  },
  {
    question: "What does `e.preventDefault()` do?",
    options: ["Stops default event", "Stops script", "Reloads page", "Logs event"],
    answer: 0,
    explanation: "Cancels default browser behavior."
  },
  {
    question: "Which event fires first during bubbling?",
    options: ["target", "capturing", "bubbling", "handler"],
    answer: 2,
    explanation: "Bubbling phase comes after capturing."
  },

  // QUESTIONS 111–120: Event Handling & Edge Logic
  {
    question: "Which event captures key press?",
    options: ["keydown", "keypress", "keyup", "input"],
    answer: 0,
    explanation: "keydown fires when key is pressed down."
  },
  {
    question: "Which event fires on input change instantly?",
    options: ["change", "blur", "input", "submit"],
    answer: 2,
    explanation: "input fires with each change."
  },
  {
    question: "What does `e.stopPropagation()` do?",
    options: [
      "Stops the default event",
      "Prevents bubbling to parent",
      "Reloads the page",
      "Removes element"
    ],
    answer: 1,
    explanation: "Prevents event from bubbling up the DOM tree."
  },
  {
    question: "How to prevent a form from submitting?",
    options: [
      "return false;",
      "e.preventDefault()",
      "remove form",
      "disable button"
    ],
    answer: 1,
    explanation: "Best practice: call `preventDefault()` inside event."
  },
  {
    question: "Which will not trigger re-render in DOM?",
    options: ["console.log", "element.innerText", "element.appendChild()", "className = 'new'"],
    answer: 0,
    explanation: "console.log doesn’t change DOM."
  },
  {
    question: "Which tag is used for inline JS?",
    options: ["<script>", "<link>", "<style>", "<meta>"],
    answer: 0,
    explanation: "<script> is used for JS."
  },
  {
    question: "Which of these triggers layout?",
    options: ["scroll", "resize", "offsetTop", "All of them"],
    answer: 3,
    explanation: "All trigger reflow/layout recalculations."
  },
  {
    question: "In event delegation, what method helps?",
    options: ["event.target", "event.srcElement", "this", "stopPropagation"],
    answer: 0,
    explanation: "event.target tells what triggered the event."
  },
  {
    question: "Which returns a reference, not copy?",
    options: ["a.slice()", "[...a]", "Object.assign([], a)", "a"],
    answer: 3,
    explanation: "a itself is a reference."
  },
  {
    question: "typeof new Function() is:",
    options: ["function", "object", "constructor", "undefined"],
    answer: 0,
    explanation: "Functions created dynamically are still functions."
  },
  {
    question: "What will this return: `[1,2,3].filter(x => x < 2)`?",
    options: ["[1]", "[2,3]", "[1,2]", "[2]"],
    answer: 0,
    explanation: "Only 1 is less than 2."
  },
  {
    question: "What is the result of `typeof (null + 1)`?",
    options: ["'number'", "'null'", "'object'", "'NaN'"],
    answer: 0,
    explanation: "null coerces to 0 → 0 + 1 = 1 → type is number."
  },
  {
    question: "What will `let a = {}; a[1] = 'one'; a[1]` return?",
    options: ["'one'", "1", "undefined", "NaN"],
    answer: 0,
    explanation: "Property '1' is stringified and stored in the object."
  },
  {
    question: "What is the value of `typeof (function() {})`?",
    options: ["'function'", "'object'", "'undefined'", "'null'"],
    answer: 0,
    explanation: "Functions return typeof 'function'."
  },
  {
    question: "`const obj = {a:1}; obj.a = 2;` – Is this allowed?",
    options: ["Yes", "No", "Only in strict mode", "Only with let"],
    answer: 0,
    explanation: "const prevents reassignment, not property mutation."
  },
  {
    question: "Which of the following is hoisted?",
    options: ["var", "let", "const", "function expression"],
    answer: 0,
    explanation: "Only `var` is hoisted with undefined. `let` and `const` are hoisted in TDZ."
  },
  {
    question: "What is output of: `typeof []`?",
    options: ["'array'", "'object'", "'undefined'", "'function'"],
    answer: 1,
    explanation: "Arrays are technically objects in JS."
  },
  {
    question: "What is `[...new Set([1,1,2,3])]`?",
    options: ["[1,2,3]", "[1,1,2,3]", "[1,2]", "Error"],
    answer: 0,
    explanation: "Set removes duplicates. Spread rebuilds array."
  },
  {
    question: "`(function(){ return typeof arguments; })()` gives?",
    options: ["'object'", "'array'", "'arguments'", "'function'"],
    answer: 0,
    explanation: "typeof arguments → 'object'."
  },
  {
    question: "What is `(() => this)()` in global scope?",
    options: ["undefined", "window", "globalThis", "this"],
    answer: 0,
    explanation: "Arrow functions don’t bind `this`; in strict mode it’s undefined."
  },

  // 131–140
  {
    question: "What does `'20' - '5' + 10` evaluate to?",
    options: ["25", "'510'", "5", "'20510'"],
    answer: 0,
    explanation: "'20' - '5' = 15 (numeric), then +10 = 25"
  },
  {
    question: "`let x = [1,2]; let y = x; x.push(3);` What's y?",
    options: ["[1,2,3]", "[1,2]", "undefined", "[3]"],
    answer: 0,
    explanation: "x and y reference the same array."
  },
  {
    question: "`[1,2,3].map(parseInt)` returns?",
    options: ["[1,2,3]", "[1, NaN, NaN]", "[NaN, NaN, NaN]", "[1,1,1]"],
    answer: 1,
    explanation: "parseInt(value, index) → parseInt(2,1)=NaN"
  },
  {
    question: "What is `null == undefined`?",
    options: ["true", "false", "NaN", "Error"],
    answer: 0,
    explanation: "They are loosely equal, not strictly."
  },
  {
    question: "`[typeof null, typeof undefined]` gives?",
    options: ["['object','undefined']", "['null','undefined']", "['undefined','undefined']", "Error"],
    answer: 0,
    explanation: "typeof null = 'object'; typeof undefined = 'undefined'"
  },
  {
    question: "Which statement is true about `[1] == true`?",
    options: ["true", "false", "undefined", "Error"],
    answer: 0,
    explanation: "[1] coerces to 1; true is also 1 → true."
  },
  {
    question: "How to convert string '42' to number?",
    options: ["Number('42')", "+'42'", "parseInt('42')", "All"],
    answer: 3,
    explanation: "All convert string to number."
  },
  {
    question: "Which returns a primitive?",
    options: ["new String('abc')", "'abc'", "String('abc')", "All but a"],
    answer: 3,
    explanation: "Only `new String` returns object; rest are primitive."
  },
  {
    question: "`typeof Symbol()` is:",
    options: ["'symbol'", "'object'", "'string'", "'undefined'"],
    answer: 0,
    explanation: "Symbols are a primitive type."
  },
  {
    question: "`[] + {}` gives?",
    options: ["'[object Object]'", "NaN", "undefined", "0"],
    answer: 0,
    explanation: "[] becomes '', {} becomes '[object Object]'."
  },

  // 141–150
  {
    question: "`{} + []` equals:",
    options: ["0", "'[object Object]'", "'[object Object][object Array]'", "NaN"],
    answer: 0,
    explanation: "Parsed as block `{}` and `+[]` = 0."
  },
  {
    question: "`const [a,,b] = [1,2,3];` What is b?",
    options: ["2", "3", "1", "undefined"],
    answer: 1,
    explanation: "Destructures 1 → a, skips 2, 3 → b."
  },
  {
    question: "`let {a, b = 2} = {a: 1};` What is b?",
    options: ["undefined", "null", "2", "1"],
    answer: 2,
    explanation: "b gets default value 2."
  },
  {
    question: "`NaN === NaN`?",
    options: ["true", "false", "undefined", "throws error"],
    answer: 1,
    explanation: "NaN is never equal to itself."
  },
  {
    question: "`!!'0'` evaluates to?",
    options: ["true", "false", "0", "undefined"],
    answer: 0,
    explanation: "'0' is a non-empty string → truthy."
  },
  {
    question: "`typeof Infinity` is:",
    options: ["'number'", "'Infinity'", "'undefined'", "'object'"],
    answer: 0,
    explanation: "Infinity is of type number."
  },
  {
    question: "Which will throw an error?",
    options: [
      "let x = 5;",
      "const y;",
      "var z = 10;",
      "let a = undefined;"
    ],
    answer: 1,
    explanation: "const must be initialized."
  },
  {
    question: "`[].push.call('abc', 'd')` returns?",
    options: ["Error", "4", "'abcd'", "undefined"],
    answer: 0,
    explanation: "push expects a mutable array; strings are immutable."
  },
  {
    question: "`Math.max(...[])` returns:",
    options: ["-Infinity", "Infinity", "NaN", "Error"],
    answer: 0,
    explanation: "Spread of empty array → max of no values = -Infinity."
  },
  {
    question: "What does `document.querySelector('div')` return?",
    options: ["First div", "All divs", "Array", "HTMLCollection"],
    answer: 0,
    explanation: "Returns first matching element."
  },

  // 151–160
  {
    question: "`window === this` is true in:",
    options: ["global scope", "arrow functions", "strict mode", "modules"],
    answer: 0,
    explanation: "In browser global scope, window === this."
  },
  {
    question: "What is `isNaN('abc')`?",
    options: ["true", "false", "NaN", "undefined"],
    answer: 0,
    explanation: "'abc' can't be coerced to number → NaN → isNaN is true."
  },
  {
    question: "`parseFloat('10.5abc')` returns?",
    options: ["NaN", "10.5", "undefined", "abc"],
    answer: 1,
    explanation: "parseFloat parses until it hits invalid char."
  },
  {
    question: "`[...'abc']` returns:",
    options: ["['a','b','c']", "'abc'", "[abc]", "undefined"],
    answer: 0,
    explanation: "Spreading string gives array of chars."
  },
  {
    question: "What is output of `'abc'[1]`?",
    options: ["'a'", "'b'", "'c'", "undefined"],
    answer: 1,
    explanation: "Strings are indexable → char at 1 = 'b'."
  },
  {
    question: "`Object.keys({a:1,b:2}).length` is:",
    options: ["1", "2", "undefined", "0"],
    answer: 1,
    explanation: "2 keys: 'a' and 'b'."
  },
  {
    question: "Which is a proper way to clone an object?",
    options: ["Object.assign({}, obj)", "{...obj}", "JSON.parse(JSON.stringify(obj))", "All"],
    answer: 3,
    explanation: "All valid, but have caveats."
  },
  {
    question: "Which doesn’t mutate original array?",
    options: ["slice()", "splice()", "push()", "pop()"],
    answer: 0,
    explanation: "slice returns a new array."
  },
  {
    question: "`Array(3).fill(0)` gives:",
    options: ["[0,0,0]", "[3]", "[]", "[undefined,undefined,undefined]"],
    answer: 0,
    explanation: "Creates array of length 3, fills all with 0."
  },
  {
    question: "`typeof Promise.resolve()` returns:",
    options: ["'object'", "'Promise'", "'function'", "'undefined'"],
    answer: 0,
    explanation: "Promises are of type object."
  },
  {
    question: "What is a closure in JavaScript?",
    options: [
      "A function having access to its own scope only",
      "A function having access to global scope only",
      "A function having access to its own, parent, and global scopes",
      "A function with no scope"
    ],
    answer: 2,
    explanation: "Closures retain access to lexical (parent) scope even after outer function has returned."
  },
  {
    question: "What will this log?\nlet a = 5;\n(function() { console.log(a); })();",
    options: ["5", "undefined", "error", "null"],
    answer: 0,
    explanation: "Function can access outer variable `a`."
  },
  {
    question: "What will this return?\n(function(){ let x = 10; return function() { return x; }; })()()",
    options: ["10", "undefined", "function", "error"],
    answer: 0,
    explanation: "Closure captures x and returns 10."
  },
  {
    question: "What is the output?\nfor (var i = 0; i < 3; i++) {\n setTimeout(() => console.log(i), 100);\n}",
    options: ["0 1 2", "3 3 3", "undefined", "1 2 3"],
    answer: 1,
    explanation: "Using var, all log after loop → i is 3."
  },
  {
    question: "How to fix closure in loop issue with var?",
    options: [
      "Use let",
      "Wrap inside IIFE",
      "Use setTimeout with i as param",
      "All of the above"
    ],
    answer: 3,
    explanation: "All work by creating new lexical scope for each iteration."
  },
  {
    question: "What is `this` inside arrow function?",
    options: ["Own context", "Window", "Inherits from parent", "undefined"],
    answer: 2,
    explanation: "Arrow functions do not have their own `this`; it’s inherited from lexical context."
  },
  {
    question: "What will be output?\nlet obj = {a: 1, getA: () => this.a};\nobj.getA();",
    options: ["1", "undefined", "error", "NaN"],
    answer: 1,
    explanation: "Arrow function inherits `this` from global; `this.a` is undefined."
  },
  {
    question: "What is result?\n(() => { let a = b = 3; })(); typeof b",
    options: ["number", "undefined", "error", "object"],
    answer: 0,
    explanation: "b becomes global due to no `let`/`var` keyword."
  },
  {
    question: "What is output?\nlet a = 1;\nfunction f() { console.log(a); let a = 2; }\nf();",
    options: ["2", "1", "undefined", "ReferenceError"],
    answer: 3,
    explanation: "`let a` hoisted but uninitialized → Temporal Dead Zone → ReferenceError."
  },
  {
    question: "Does JavaScript support block scoping?",
    options: ["Yes with let/const", "Only with var", "No", "Only inside functions"],
    answer: 0,
    explanation: "`let` and `const` allow true block-level scope."
  },

  // 171–180: Async, Promises, Timing
  {
    question: "Which executes first in event loop?",
    options: ["Promise.then", "setTimeout", "setInterval", "requestAnimationFrame"],
    answer: 0,
    explanation: "Promise microtasks are run before timer macrotasks."
  },
  {
    question: "`Promise.resolve(5).then(x => x*2)` returns?",
    options: ["10", "Promise", "undefined", "5"],
    answer: 1,
    explanation: "It returns a Promise object."
  },
  {
    question: "What is result?\nawait Promise.resolve(3);",
    options: ["3", "undefined", "error", "Promise"],
    answer: 0,
    explanation: "Await unwraps promise and returns value."
  },
  {
    question: "Which is async-safe loop?",
    options: ["forEach", "map", "for of + await", "reduce"],
    answer: 2,
    explanation: "Only for-of supports top-level await correctly."
  },
  {
    question: "What is returned by `async` function?",
    options: ["value", "undefined", "Promise", "Object"],
    answer: 2,
    explanation: "Always returns a Promise."
  },
  {
    question: "What is the output of:\nconsole.log(typeof await 10);",
    options: ["number", "Promise", "undefined", "object"],
    answer: 0,
    explanation: "await on primitive returns value."
  },
  {
    question: "Which is true about `finally` block?",
    options: ["Always runs", "Runs on error only", "Skips on return", "Only in catch"],
    answer: 0,
    explanation: "`finally` block always executes after try/catch."
  },
  {
    question: "Which is correct about async/await?",
    options: ["Await blocks execution", "Async must be on function", "Try/catch needed for errors", "All"],
    answer: 3,
    explanation: "All are true."
  },
  {
    question: "What will log?\nsetTimeout(() => console.log('A'), 0);\nPromise.resolve().then(() => console.log('B'));",
    options: ["A B", "B A", "Error", "undefined"],
    answer: 1,
    explanation: "Promise runs before timeout."
  },
  {
    question: "What does `JSON.stringify(undefined)` return?",
    options: ["'undefined'", "null", "error", "undefined"],
    answer: 1,
    explanation: "Top-level undefined → null."
  },

  // 181–190: DOM, Events, Advanced
  {
    question: "Which event phase executes last?",
    options: ["Capturing", "At target", "Bubbling", "None"],
    answer: 2,
    explanation: "Bubbling is the last phase."
  },
  {
    question: "Which is NOT valid event?",
    options: ["click", "hover", "change", "keydown"],
    answer: 1,
    explanation: "Hover is not a valid event type in JS."
  },
  {
    question: "What is event delegation?",
    options: [
      "Assigning handler to child",
      "Assigning multiple listeners",
      "Using parent to listen for child events",
      "Preventing bubbling"
    ],
    answer: 2,
    explanation: "Delegation means parent handles child events."
  },
  {
    question: "What is output?\ndocument.body.addEventListener('click', e => e.stopPropagation());",
    options: [
      "Click doesn’t bubble past body",
      "Stops all events",
      "Disables click",
      "Adds no effect"
    ],
    answer: 0,
    explanation: "Stops bubbling past the body element."
  },
  {
    question: "What is event.target?",
    options: ["Element that triggered event", "Element listener attached to", "Parent element", "None"],
    answer: 0,
    explanation: "event.target is actual source of event."
  },
  {
    question: "Which sets attribute?",
    options: ["el.setAttribute('id', 'box')", "el.id = 'box'", "el.className = 'x'", "All"],
    answer: 3,
    explanation: "All are valid attribute setters."
  },
  {
    question: "How to stop link default behavior?",
    options: ["return false", "e.preventDefault()", "remove href", "none"],
    answer: 1,
    explanation: "preventDefault() stops native behavior."
  },
  {
    question: "What is result of: `document.querySelectorAll('div') instanceof Array`?",
    options: ["true", "false", "error", "undefined"],
    answer: 1,
    explanation: "Returns NodeList, not array."
  },
  {
    question: "What does `el.classList.toggle('x')` do?",
    options: [
      "Adds class x only",
      "Removes class x only",
      "Adds if not present, else removes",
      "Throws error"
    ],
    answer: 2,
    explanation: "Toggles class x on/off."
  },
  {
    question: "`console.dir()` differs from `console.log()` in?",
    options: [
      "Shows properties as JS object",
      "Prints styles",
      "Only in Chrome",
      "Doesn't log strings"
    ],
    answer: 0,
    explanation: "`dir` logs interactive object view."
  },

  // 191–200: Trick Cases, Types, Logic
  {
    question: "`typeof null` is:",
    options: ["'object'", "'null'", "'undefined'", "'NaN'"],
    answer: 0,
    explanation: "Historical JS bug: typeof null is 'object'."
  },
  {
    question: "`Array.isArray(null)` returns:",
    options: ["true", "false", "undefined", "error"],
    answer: 1,
    explanation: "null is not an array."
  },
  {
    question: "`Number(undefined)` returns:",
    options: ["NaN", "0", "undefined", "Infinity"],
    answer: 0,
    explanation: "Cannot convert undefined to number."
  },
  {
    question: "`!!NaN` evaluates to:",
    options: ["true", "false", "NaN", "undefined"],
    answer: 1,
    explanation: "NaN is falsy."
  },
  {
    question: "Which is not a primitive?",
    options: ["Symbol", "Number", "Function", "String"],
    answer: 2,
    explanation: "Function is object."
  },
  {
    question: "`(true + false)` equals:",
    options: ["truefalse", "1", "0", "NaN"],
    answer: 1,
    explanation: "true is 1, false is 0 → 1."
  },
  {
    question: "`[].constructor === Array` returns:",
    options: ["true", "false", "undefined", "error"],
    answer: 0,
    explanation: "Array instances have constructor Array."
  },
  {
    question: "`1 + '1' - 1` evaluates to:",
    options: ["10", "11", "1", "NaN"],
    answer: 0,
    explanation: "'11' - 1 = 10 (converted to number)."
  },
  {
    question: "`parseInt('10', 2)` returns:",
    options: ["2", "10", "NaN", "1"],
    answer: 0,
    explanation: "Binary 10 = 2."
  },
  {
    question: "`delete obj.prop` does what?",
    options: ["Removes prop", "Sets undefined", "Throws error", "Freezes obj"],
    answer: 0,
    explanation: "delete removes own properties."
  }
];

  let current = 0;
    let score = 0;
    let answers = JSON.parse(localStorage.getItem('js_mcq_answers')) || [];
    let timeLeft = 9000; // 10 minutes

    function renderQuestion() {
      if (current >= questions.length) return showResults();
      const q = questions[current];
      document.getElementById('question').innerText = `Q${current + 1}: ${q.question}`;
      const savedAnswer = answers[current]?.selected;
      const optionsHTML = q.options.map((opt, i) => 
        `<div class="option">
          <label>
            <input type="radio" name="opt" value="${i}" ${savedAnswer === opt ? 'checked disabled' : ''} onchange="enableCheck()"> ${opt}
          </label>
        </div>`
      ).join('');
      document.getElementById('options').innerHTML = optionsHTML;
      document.getElementById('explanation').innerHTML = '';
      document.getElementById('checkBtn').style.display = savedAnswer ? 'none' : 'inline-block';
      document.getElementById('nextBtn').disabled = !savedAnswer;
      if (savedAnswer) showExplanation(savedAnswer);
    }

    function enableCheck() {
      document.getElementById('checkBtn').disabled = false;
    }

    function checkAnswer() {
      const selected = document.querySelector('input[name="opt"]:checked');
      if (!selected) return alert("Please select an option");

      const selectedValue = parseInt(selected.value);
      const q = questions[current];
      const isCorrect = selectedValue === q.answer;
      if (isCorrect) score++;

      const answerRecord = {
        question: q.question,
        selected: q.options[selectedValue],
        correct: q.options[q.answer],
        explanation: q.explanation,
        isCorrect
      };
      answers[current] = answerRecord;
      localStorage.setItem('js_mcq_answers', JSON.stringify(answers));
      showExplanation(q.options[selectedValue]);
      document.getElementById('checkBtn').style.display = 'none';
      document.getElementById('nextBtn').disabled = false;
      renderQuestion();
    }

    function showExplanation(userAnswer) {
      const q = questions[current];
      const isCorrect = userAnswer === q.options[q.answer];
      document.getElementById('explanation').innerHTML = `<strong>${isCorrect ? 'Correct!' : 'Wrong!'}</strong><br>
        Your answer: ${userAnswer}<br>
        Correct answer: ${q.options[q.answer]}<br>
        Explanation: ${q.explanation}`;
    }

    function nextQuestion() {
      if (current < questions.length - 1) {
        current++;
        renderQuestion();
      } else {
        showResults();
      }
    }

    function prevQuestion() {
      if (current > 0) {
        current--;
        renderQuestion();
      }
    }

    function showResults() {
      score = answers.reduce((acc, curr, i) => {
        const correct = questions[i].options[questions[i].answer];
        return curr && curr.selected === correct ? acc + 1 : acc;
      }, 0);

      document.getElementById('quiz-container').style.display = 'none';
      const resultContainer = document.getElementById('result-container');
      resultContainer.style.display = 'block';
      document.getElementById('score').innerText = `You scored ${score} out of ${questions.length}`;

      const list = document.getElementById('answers-list');
      list.innerHTML = '';
      answers.forEach((ans, i) => {
        const li = document.createElement('li');
        li.innerHTML = `<strong>Q${i+1}:</strong> ${ans.question}<br>
          <span class="${ans.isCorrect ? 'correct' : 'incorrect'}">
            Your answer: ${ans.selected} (${ans.isCorrect ? 'Correct' : 'Wrong'})
          </span><br>
          Correct answer: ${ans.correct}<br>
          Explanation: ${ans.explanation}`;
        list.appendChild(li);
      });
    }

    function updateTimer() {
      const mins = Math.floor(timeLeft / 60);
      const secs = timeLeft % 60;
      document.getElementById('timer').innerText = `Time left: ${mins}:${secs < 10 ? '0' + secs : secs}`;
      timeLeft--;
      if (timeLeft < 0) showResults();
    }

    window.onload = function() {
      renderQuestion();
      setInterval(updateTimer, 1000);
    };
  </script>
</body>
</html>
